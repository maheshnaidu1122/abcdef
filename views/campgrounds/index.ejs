<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

  <% layout('layouts/boilerplate')%>
  <div class="col-12">
    <div id="map" style="width: 100%; height: 300px;"></div>
</div>
    <h1>All CampGrounds Are</h1>
    <% for (let camp of campgrounds) { %>
      <div class="card" mb-3>
        <div class="row">
          <div class="col-md-4">
            <img class='image-fluid' src="<%=camp.image[0].Url%>" alt="" style="max-width: 400px;">
          </div>
          <div class="col-md-8">
            <div class="card-body">
             <h5 class="card-text">
              <%=camp.description%>
             </h5>
             <p class="card-text">
              <small class="text-muted"><%=camp.location%></small>
             </p>
             <a  class="btn btn-primary" href="/campground/<%=camp._id%>">View <%=camp.title%></a>
            </div>
          </div>
        </div>
      </div>
      <% } %>
      <script>
        const maptilerApiKey = '<%- process.env.MAPTILER_API_KEY %>';
        const campgrounds = { features: <%- JSON.stringify(campgrounds) %>}
      </script>
      <script src="/javascripts/mapcluster.js"></script>
</html>
